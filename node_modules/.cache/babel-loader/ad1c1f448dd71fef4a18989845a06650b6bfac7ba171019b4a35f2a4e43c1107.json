{"ast":null,"code":"import _objectSpread from\"/Users/stephaniedoucet/Desktop/jm-pominville-clean/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ClientsSection=_ref=>{let{clients,setClients,clientForm,setClientForm,editingClient,setEditingClient,editClientForm,setEditClientForm,saveToStorage,contracts,payments,isPaymentReceived,paymentModal,setPaymentModal}=_ref;const[clientSearchFilters,setClientSearchFilters]=useState({searchTerm:'',type:'',paymentStatus:'',streetName:''});// Fonction pour obtenir les alertes de paiement\nconst getPaymentAlerts=()=>{const today=new Date();const alerts=[];clients.forEach(client=>{const contract=contracts.find(c=>c.clientId===client.id&&!c.archived);if(!contract)return;const firstPaymentReceived=isPaymentReceived(client.id,1);const secondPaymentReceived=isPaymentReceived(client.id,2);if(client.firstPaymentDate&&!firstPaymentReceived){const firstPaymentDate=new Date(client.firstPaymentDate);if(firstPaymentDate<today){const daysLate=Math.floor((today-firstPaymentDate)/(1000*60*60*24));alerts.push({type:'overdue',client:client.name,message:\"1er versement en retard de \".concat(daysLate,\" jour(s)\"),amount:(contract.amount/(client.paymentStructure==='1'?1:2)).toFixed(2),priority:'high'});}}if(client.paymentStructure==='2'&&client.secondPaymentDate&&!secondPaymentReceived){const secondPaymentDate=new Date(client.secondPaymentDate);if(secondPaymentDate<today){const daysLate=Math.floor((today-secondPaymentDate)/(1000*60*60*24));alerts.push({type:'overdue',client:client.name,message:\"2e versement en retard de \".concat(daysLate,\" jour(s)\"),amount:(contract.amount/2).toFixed(2),priority:'high'});}}});return alerts;};// Fonction pour extraire le nom de rue\nconst extractStreetName=address=>{if(!address||typeof address!=='string')return'Adresses non définies';try{const cleanAddress=address.trim();const parts=cleanAddress.split(',');if(parts.length===0)return'Adresses non définies';let streetPart=parts[0].trim();streetPart=streetPart.replace(/^(\\d+\\s*[-\\/\\s]?\\s*[a-zA-Z]?\\s*)/i,'').trim();if(!streetPart){streetPart=parts[0].trim();}streetPart=streetPart.replace(/^(rue\\s+)/gi,'Rue ').replace(/^(r\\.\\s+)/gi,'Rue ').replace(/^(av\\.?\\s+)/gi,'Avenue ').replace(/^(avenue\\s+)/gi,'Avenue ').replace(/^(boul\\.?\\s+)/gi,'Boulevard ').replace(/^(boulevard\\s+)/gi,'Boulevard ').replace(/^(blvd\\.?\\s+)/gi,'Boulevard ');streetPart=streetPart.replace(/\\s+/g,' ').trim();streetPart=streetPart.split(' ').map(word=>word.charAt(0).toUpperCase()+word.slice(1).toLowerCase()).join(' ');return streetPart||'Adresses non définies';}catch(error){console.error('Erreur extraction rue pour:',address,error);return'Adresses non définies';}};// Fonction de recherche avancée\nconst getAdvancedFilteredClients=()=>{return clients.filter(client=>{const matchesSearch=!clientSearchFilters.searchTerm||client.name.toLowerCase().includes(clientSearchFilters.searchTerm.toLowerCase())||client.address.toLowerCase().includes(clientSearchFilters.searchTerm.toLowerCase())||client.phone.includes(clientSearchFilters.searchTerm);const matchesType=!clientSearchFilters.type||client.type===clientSearchFilters.type;const matchesStreet=!clientSearchFilters.streetName||extractStreetName(client.address).toLowerCase().includes(clientSearchFilters.streetName.toLowerCase());let matchesPaymentStatus=true;if(clientSearchFilters.paymentStatus){const firstPaid=isPaymentReceived(client.id,1);const secondPaid=isPaymentReceived(client.id,2);const paymentStructure=client.paymentStructure||'2';switch(clientSearchFilters.paymentStatus){case'paid_full':matchesPaymentStatus=paymentStructure==='1'?firstPaid:firstPaid&&secondPaid;break;case'paid_partial':matchesPaymentStatus=paymentStructure==='2'&&firstPaid&&!secondPaid;break;case'unpaid':matchesPaymentStatus=!firstPaid;break;}}return matchesSearch&&matchesType&&matchesStreet&&matchesPaymentStatus;});};// Fonctions CRUD clients\nconst addClient=()=>{if(!clientForm.name||!clientForm.phone||!clientForm.address){alert('Veuillez remplir au moins le nom, le téléphone et l\\'adresse.');return;}if(clientForm.paymentStructure==='1'&&!clientForm.firstPaymentDate){alert('Veuillez spécifier la date de paiement.');return;}if(clientForm.paymentStructure==='2'&&(!clientForm.firstPaymentDate||!clientForm.secondPaymentDate)){alert('Veuillez spécifier les dates des deux versements.');return;}const client=_objectSpread(_objectSpread({id:Date.now()},clientForm),{},{secondPaymentDate:clientForm.paymentStructure==='1'?'':clientForm.secondPaymentDate,secondPaymentMethod:clientForm.paymentStructure==='1'?'':clientForm.secondPaymentMethod});const newClients=[...clients,client];setClients(newClients);saveToStorage('clients',newClients);setClientForm({name:'',phone:'',email:'',type:'',address:'',paymentStructure:'2',firstPaymentDate:'',secondPaymentDate:'',firstPaymentMethod:'',secondPaymentMethod:''});alert('Client ajouté avec succès !');};const deleteClient=id=>{if(window.confirm('Supprimer ce client ? Cette action est irréversible.')){const newClients=clients.filter(client=>client.id!==id);setClients(newClients);saveToStorage('clients',newClients);}};const startEditClient=client=>{setEditingClient(client.id);setEditClientForm(_objectSpread(_objectSpread({},client),{},{paymentStructure:client.paymentStructure||'2',firstPaymentMethod:client.firstPaymentMethod||'',secondPaymentMethod:client.secondPaymentMethod||''}));};const saveEditClient=()=>{const updatedClients=clients.map(client=>client.id===editingClient?_objectSpread(_objectSpread({},client),editClientForm):client);setClients(updatedClients);saveToStorage('clients',updatedClients);setEditingClient(null);setEditClientForm({name:'',phone:'',email:'',type:'',address:'',paymentStructure:'2',firstPaymentDate:'',secondPaymentDate:'',firstPaymentMethod:'',secondPaymentMethod:''});alert('Client modifié avec succès !');};const cancelEdit=()=>{setEditingClient(null);setEditClientForm({name:'',phone:'',email:'',type:'',address:'',paymentStructure:'2',firstPaymentDate:'',secondPaymentDate:'',firstPaymentMethod:'',secondPaymentMethod:''});};const showPaymentModalFunc=(clientId,paymentNumber,amount)=>{setPaymentModal({isOpen:true,clientId,paymentNumber,amount});};const alerts=getPaymentAlerts();return/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'30px',borderRadius:'15px',boxShadow:'0 4px 15px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#1a4d1a',marginBottom:'25px',fontSize:'1.8em'},children:\"Gestion des Clients\"}),alerts.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff3cd',border:'1px solid #ffeaa7',borderRadius:'12px',padding:'20px',marginBottom:'30px',borderLeft:'5px solid #fdcb6e'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:'#856404',marginBottom:'15px',fontSize:'1.4em'},children:[\"\\u26A0\\uFE0F Alertes de Paiements (\",alerts.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'10px'},children:alerts.map((alert,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px 16px',borderRadius:'8px',background:alert.priority==='high'?'#f8d7da':'#fff3cd',border:\"1px solid \".concat(alert.priority==='high'?'#f5c6cb':'#ffeaa7'),display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:alert.priority==='high'?'#721c24':'#856404'},children:alert.client}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#666',marginTop:'4px'},children:alert.message})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'6px 12px',borderRadius:'20px',fontSize:'12px',fontWeight:'bold',background:alert.priority==='high'?'#dc3545':'#ffc107',color:'white'},children:[alert.amount,\"$\"]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8f9fa',padding:'20px',borderRadius:'12px',marginBottom:'20px',border:'1px solid #dee2e6'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'#495057',marginBottom:'15px'},children:\"\\uD83D\\uDD0D Recherche Avanc\\xE9e\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Recherche g\\xE9n\\xE9rale\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nom, adresse, t\\xE9l\\xE9phone...\",value:clientSearchFilters.searchTerm,onChange:e=>setClientSearchFilters(_objectSpread(_objectSpread({},clientSearchFilters),{},{searchTerm:e.target.value})),style:{width:'100%',padding:'8px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Type de client\"}),/*#__PURE__*/_jsxs(\"select\",{value:clientSearchFilters.type,onChange:e=>setClientSearchFilters(_objectSpread(_objectSpread({},clientSearchFilters),{},{type:e.target.value})),style:{width:'100%',padding:'8px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tous les types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"r\\xE9sidentiel\",children:\"R\\xE9sidentiel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"commercial\",children:\"Commercial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"industriel\",children:\"Industriel\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Statut paiement\"}),/*#__PURE__*/_jsxs(\"select\",{value:clientSearchFilters.paymentStatus,onChange:e=>setClientSearchFilters(_objectSpread(_objectSpread({},clientSearchFilters),{},{paymentStatus:e.target.value})),style:{width:'100%',padding:'8px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tous les statuts\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paid_full\",children:\"Pay\\xE9 compl\\xE8tement\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paid_partial\",children:\"Partiellement pay\\xE9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"unpaid\",children:\"Non pay\\xE9\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Nom de rue\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Ex: rue Principale\",value:clientSearchFilters.streetName,onChange:e=>setClientSearchFilters(_objectSpread(_objectSpread({},clientSearchFilters),{},{streetName:e.target.value})),style:{width:'100%',padding:'8px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',display:'flex',gap:'10px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setClientSearchFilters({searchTerm:'',type:'',paymentStatus:'',streetName:''}),style:{padding:'8px 16px',background:'#6c757d',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontWeight:'bold'},children:\"R\\xE9initialiser\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#666',fontSize:'14px',fontWeight:'bold'},children:[\"R\\xE9sultats: \",getAdvancedFilteredClients().length,\" client(s) trouv\\xE9(s)\"]})]})]}),!editingClient&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8f9fa',padding:'25px',borderRadius:'12px',marginBottom:'25px',border:'1px solid #dee2e6'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'#495057',marginBottom:'20px'},children:\"\\u2795 Ajouter un nouveau client\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'15px',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Nom du client *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:clientForm.name,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{name:e.target.value})),placeholder:\"Ex: Jean Dupont\",style:{width:'100%',padding:'10px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"T\\xE9l\\xE9phone *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:clientForm.phone,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{phone:e.target.value})),placeholder:\"514-555-0123\",style:{width:'100%',padding:'10px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'15px',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:clientForm.email,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{email:e.target.value})),placeholder:\"client@example.com\",style:{width:'100%',padding:'10px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Type de client\"}),/*#__PURE__*/_jsxs(\"select\",{value:clientForm.type,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{type:e.target.value})),style:{width:'100%',padding:'10px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"r\\xE9sidentiel\",children:\"R\\xE9sidentiel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"commercial\",children:\"Commercial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"industriel\",children:\"Industriel\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Adresse compl\\xE8te *\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"2\",value:clientForm.address,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{address:e.target.value})),placeholder:\"123 Rue Example, Ville, Province, Code postal\",style:{width:'100%',padding:'10px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px',resize:'vertical'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'15px',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Structure de paiement\"}),/*#__PURE__*/_jsxs(\"select\",{value:clientForm.paymentStructure,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{paymentStructure:e.target.value})),style:{width:'100%',padding:'10px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1 versement unique\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2 versements\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Date 1er versement\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:clientForm.firstPaymentDate,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{firstPaymentDate:e.target.value})),style:{width:'100%',padding:'10px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'}})]})]}),clientForm.paymentStructure==='2'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'15px',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Date 2e versement\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:clientForm.secondPaymentDate,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{secondPaymentDate:e.target.value})),style:{width:'100%',padding:'10px 12px',borderRadius:'6px',border:'1px solid #ddd',fontSize:'14px'}})]}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addClient,style:{padding:'12px 25px',background:'#28a745',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',fontWeight:'bold',fontSize:'16px'},children:\"\\u2795 Ajouter Client\"})]}),getAdvancedFilteredClients().length>0?/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',background:'white',borderRadius:'12px',overflow:'hidden',boxShadow:'0 4px 15px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',textAlign:'left',borderBottom:'2px solid #dee2e6',fontWeight:'bold'},children:\"Client\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',textAlign:'left',borderBottom:'2px solid #dee2e6',fontWeight:'bold'},children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',textAlign:'left',borderBottom:'2px solid #dee2e6',fontWeight:'bold'},children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',textAlign:'left',borderBottom:'2px solid #dee2e6',fontWeight:'bold'},children:\"Structure Paiement\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',textAlign:'left',borderBottom:'2px solid #dee2e6',fontWeight:'bold'},children:\"Statut Paiements\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',textAlign:'left',borderBottom:'2px solid #dee2e6',fontWeight:'bold'},children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:getAdvancedFilteredClients().sort((a,b)=>a.name.toLowerCase().localeCompare(b.name.toLowerCase())).map(client=>{const contract=contracts.find(c=>c.clientId===client.id&&!c.archived);const firstPaymentReceived=isPaymentReceived(client.id,1);const secondPaymentReceived=isPaymentReceived(client.id,2);const firstPayment=payments.find(p=>p.clientId===client.id&&p.paymentNumber===1);const secondPayment=payments.find(p=>p.clientId===client.id&&p.paymentNumber===2);return editingClient===client.id?/*#__PURE__*/// Mode édition\n_jsx(\"tr\",{style:{background:'#fff3cd'},children:/*#__PURE__*/_jsxs(\"td\",{colSpan:\"6\",style:{padding:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Nom\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editClientForm.name,onChange:e=>setEditClientForm(_objectSpread(_objectSpread({},editClientForm),{},{name:e.target.value})),style:{width:'100%',padding:'8px 12px',borderRadius:'6px',border:'1px solid #ddd'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"T\\xE9l\\xE9phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:editClientForm.phone,onChange:e=>setEditClientForm(_objectSpread(_objectSpread({},editClientForm),{},{phone:e.target.value})),style:{width:'100%',padding:'8px 12px',borderRadius:'6px',border:'1px solid #ddd'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:editClientForm.email,onChange:e=>setEditClientForm(_objectSpread(_objectSpread({},editClientForm),{},{email:e.target.value})),style:{width:'100%',padding:'8px 12px',borderRadius:'6px',border:'1px solid #ddd'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'bold'},children:\"Adresse\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editClientForm.address,onChange:e=>setEditClientForm(_objectSpread(_objectSpread({},editClientForm),{},{address:e.target.value})),style:{width:'100%',padding:'8px 12px',borderRadius:'6px',border:'1px solid #ddd',resize:'vertical'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveEditClient,style:{padding:'10px 20px',background:'#28a745',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontWeight:'bold'},children:\"Sauvegarder\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEdit,style:{padding:'10px 20px',background:'#6c757d',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontWeight:'bold'},children:\"Annuler\"})]})]})},client.id):/*#__PURE__*/// Mode affichage normal\n_jsxs(\"tr\",{style:{borderBottom:'1px solid #dee2e6'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#1a4d1a',fontSize:'16px'},children:client.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#666',marginTop:'2px'},children:client.address})]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'4px'},children:[\"\\uD83D\\uDCDE \",client.phone]}),client.email&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"\\uD83D\\uDCE7 \",client.email]})]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',borderRadius:'12px',fontSize:'12px',fontWeight:'bold',background:'#e8f5e8',color:'#1a4d1a'},children:client.type||'Non défini'})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'4px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{padding:'2px 6px',borderRadius:'10px',fontSize:'11px',fontWeight:'bold',background:'#e3f2fd',color:'#1976d2'},children:client.paymentStructure==='1'?'1 versement':'2 versements'}),client.firstPaymentDate&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',color:'#666'},children:[\"1er: \",client.firstPaymentDate]}),client.paymentStructure==='2'&&client.secondPaymentDate&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',color:'#666'},children:[\"2e: \",client.secondPaymentDate]})]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'6px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'2px',padding:'6px 8px',borderRadius:'8px',background:firstPaymentReceived?'#d4edda':'#f8d7da',border:\"1px solid \".concat(firstPaymentReceived?'#c3e6cb':'#f5c6cb')},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',fontWeight:'bold',color:firstPaymentReceived?'#155724':'#721c24'},children:[\"1er: \",firstPaymentReceived?'Reçu':'En attente']}),firstPayment&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',color:'#666'},children:[firstPayment.date,\" - \",firstPayment.amount.toFixed(0),\"$\"]}),!firstPaymentReceived&&contract&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',color:'#721c24',fontWeight:'bold'},children:[\"Attendu: \",(contract.amount/(client.paymentStructure==='1'?1:2)).toFixed(0),\"$\"]})]}),client.paymentStructure==='2'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'2px',padding:'6px 8px',borderRadius:'8px',background:secondPaymentReceived?'#d4edda':'#f8d7da',border:\"1px solid \".concat(secondPaymentReceived?'#c3e6cb':'#f5c6cb')},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',fontWeight:'bold',color:secondPaymentReceived?'#155724':'#721c24'},children:[\"2e: \",secondPaymentReceived?'Reçu':'En attente']}),secondPayment&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',color:'#666'},children:[secondPayment.date,\" - \",secondPayment.amount.toFixed(0),\"$\"]}),!secondPaymentReceived&&contract&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',color:'#721c24',fontWeight:'bold'},children:[\"Attendu: \",(contract.amount/2).toFixed(0),\"$\"]})]})]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'5px',flexDirection:'column'},children:[contract&&!firstPaymentReceived&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>showPaymentModalFunc(client.id,1,contract.amount/(client.paymentStructure==='1'?1:2)),style:{padding:'5px 10px',background:'#28a745',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer',fontWeight:'bold'},children:\"\\uD83D\\uDCB0 1er Paiement\"}),contract&&client.paymentStructure==='2'&&firstPaymentReceived&&!secondPaymentReceived&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>showPaymentModalFunc(client.id,2,contract.amount/2),style:{padding:'5px 10px',background:'#28a745',color:'white',border:'none',borderRadius:'4px',fontSize:'12px',cursor:'pointer',fontWeight:'bold'},children:\"\\uD83D\\uDCB0 2e Paiement\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditClient(client),style:{padding:'5px 10px',fontSize:'12px',background:'#ffc107',color:'#000',border:'none',borderRadius:'4px',cursor:'pointer',fontWeight:'bold'},children:\"\\u270F\\uFE0F Modifier\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteClient(client.id),style:{padding:'5px 10px',fontSize:'12px',background:'#dc3545',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontWeight:'bold'},children:\"\\uD83D\\uDDD1\\uFE0F Supprimer\"})]})})]},client.id);})})]})}):/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px 20px',background:'#f8f9fa',borderRadius:'12px',color:'#666',fontSize:'16px'},children:\"Aucun client trouv\\xE9 avec ces crit\\xE8res de recherche.\"})]});};export default ClientsSection;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ClientsSection","_ref","clients","setClients","clientForm","setClientForm","editingClient","setEditingClient","editClientForm","setEditClientForm","saveToStorage","contracts","payments","isPaymentReceived","paymentModal","setPaymentModal","clientSearchFilters","setClientSearchFilters","searchTerm","type","paymentStatus","streetName","getPaymentAlerts","today","Date","alerts","forEach","client","contract","find","c","clientId","id","archived","firstPaymentReceived","secondPaymentReceived","firstPaymentDate","daysLate","Math","floor","push","name","message","concat","amount","paymentStructure","toFixed","priority","secondPaymentDate","extractStreetName","address","cleanAddress","trim","parts","split","length","streetPart","replace","map","word","charAt","toUpperCase","slice","toLowerCase","join","error","console","getAdvancedFilteredClients","filter","matchesSearch","includes","phone","matchesType","matchesStreet","matchesPaymentStatus","firstPaid","secondPaid","addClient","alert","_objectSpread","now","secondPaymentMethod","newClients","email","firstPaymentMethod","deleteClient","window","confirm","startEditClient","saveEditClient","updatedClients","cancelEdit","showPaymentModalFunc","paymentNumber","isOpen","style","background","padding","borderRadius","boxShadow","children","color","marginBottom","fontSize","border","borderLeft","display","gap","index","justifyContent","alignItems","marginTop","fontWeight","gridTemplateColumns","placeholder","value","onChange","e","target","width","onClick","cursor","rows","resize","overflowX","borderCollapse","overflow","textAlign","borderBottom","sort","a","b","localeCompare","firstPayment","p","secondPayment","colSpan","flexDirection","date"],"sources":["/Users/stephaniedoucet/Desktop/jm-pominville-clean/src/components/ClientsSection.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst ClientsSection = ({ \n  clients, setClients, clientForm, setClientForm, \n  editingClient, setEditingClient, editClientForm, setEditClientForm,\n  saveToStorage, contracts, payments, isPaymentReceived,\n  paymentModal, setPaymentModal\n}) => {\n  const [clientSearchFilters, setClientSearchFilters] = useState({\n    searchTerm: '',\n    type: '',\n    paymentStatus: '',\n    streetName: ''\n  });\n\n  // Fonction pour obtenir les alertes de paiement\n  const getPaymentAlerts = () => {\n    const today = new Date();\n    const alerts = [];\n    clients.forEach(client => {\n      const contract = contracts.find(c => c.clientId === client.id && !c.archived);\n      if (!contract) return;\n      \n      const firstPaymentReceived = isPaymentReceived(client.id, 1);\n      const secondPaymentReceived = isPaymentReceived(client.id, 2);\n\n      if (client.firstPaymentDate && !firstPaymentReceived) {\n        const firstPaymentDate = new Date(client.firstPaymentDate);\n        if (firstPaymentDate < today) {\n          const daysLate = Math.floor((today - firstPaymentDate) / (1000 * 60 * 60 * 24));\n          alerts.push({\n            type: 'overdue', client: client.name,\n            message: `1er versement en retard de ${daysLate} jour(s)`,\n            amount: (contract.amount / (client.paymentStructure === '1' ? 1 : 2)).toFixed(2),\n            priority: 'high'\n          });\n        }\n      }\n\n      if (client.paymentStructure === '2' && client.secondPaymentDate && !secondPaymentReceived) {\n        const secondPaymentDate = new Date(client.secondPaymentDate);\n        if (secondPaymentDate < today) {\n          const daysLate = Math.floor((today - secondPaymentDate) / (1000 * 60 * 60 * 24));\n          alerts.push({\n            type: 'overdue', client: client.name,\n            message: `2e versement en retard de ${daysLate} jour(s)`,\n            amount: (contract.amount / 2).toFixed(2), \n            priority: 'high'\n          });\n        }\n      }\n    });\n    return alerts;\n  };\n\n  // Fonction pour extraire le nom de rue\n  const extractStreetName = (address) => {\n    if (!address || typeof address !== 'string') return 'Adresses non définies';\n    \n    try {\n      const cleanAddress = address.trim();\n      const parts = cleanAddress.split(',');\n      if (parts.length === 0) return 'Adresses non définies';\n      \n      let streetPart = parts[0].trim();\n      streetPart = streetPart.replace(/^(\\d+\\s*[-\\/\\s]?\\s*[a-zA-Z]?\\s*)/i, '').trim();\n      \n      if (!streetPart) {\n        streetPart = parts[0].trim();\n      }\n      \n      streetPart = streetPart\n        .replace(/^(rue\\s+)/gi, 'Rue ')\n        .replace(/^(r\\.\\s+)/gi, 'Rue ')\n        .replace(/^(av\\.?\\s+)/gi, 'Avenue ')\n        .replace(/^(avenue\\s+)/gi, 'Avenue ')\n        .replace(/^(boul\\.?\\s+)/gi, 'Boulevard ')\n        .replace(/^(boulevard\\s+)/gi, 'Boulevard ')\n        .replace(/^(blvd\\.?\\s+)/gi, 'Boulevard ');\n      \n      streetPart = streetPart.replace(/\\s+/g, ' ').trim();\n      \n      streetPart = streetPart.split(' ')\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n        .join(' ');\n      \n      return streetPart || 'Adresses non définies';\n      \n    } catch (error) {\n      console.error('Erreur extraction rue pour:', address, error);\n      return 'Adresses non définies';\n    }\n  };\n\n  // Fonction de recherche avancée\n  const getAdvancedFilteredClients = () => {\n    return clients.filter(client => {\n      const matchesSearch = !clientSearchFilters.searchTerm ||\n        client.name.toLowerCase().includes(clientSearchFilters.searchTerm.toLowerCase()) ||\n        client.address.toLowerCase().includes(clientSearchFilters.searchTerm.toLowerCase()) ||\n        client.phone.includes(clientSearchFilters.searchTerm);\n\n      const matchesType = !clientSearchFilters.type || client.type === clientSearchFilters.type;\n\n      const matchesStreet = !clientSearchFilters.streetName ||\n        extractStreetName(client.address).toLowerCase().includes(clientSearchFilters.streetName.toLowerCase());\n\n      let matchesPaymentStatus = true;\n      if (clientSearchFilters.paymentStatus) {\n        const firstPaid = isPaymentReceived(client.id, 1);\n        const secondPaid = isPaymentReceived(client.id, 2);\n        const paymentStructure = client.paymentStructure || '2';\n\n        switch (clientSearchFilters.paymentStatus) {\n          case 'paid_full':\n            matchesPaymentStatus = paymentStructure === '1' ? firstPaid : (firstPaid && secondPaid);\n            break;\n          case 'paid_partial':\n            matchesPaymentStatus = paymentStructure === '2' && firstPaid && !secondPaid;\n            break;\n          case 'unpaid':\n            matchesPaymentStatus = !firstPaid;\n            break;\n        }\n      }\n\n      return matchesSearch && matchesType && matchesStreet && matchesPaymentStatus;\n    });\n  };\n\n  // Fonctions CRUD clients\n  const addClient = () => {\n    if (!clientForm.name || !clientForm.phone || !clientForm.address) {\n      alert('Veuillez remplir au moins le nom, le téléphone et l\\'adresse.');\n      return;\n    }\n\n    if (clientForm.paymentStructure === '1' && !clientForm.firstPaymentDate) {\n      alert('Veuillez spécifier la date de paiement.');\n      return;\n    }\n\n    if (clientForm.paymentStructure === '2' && (!clientForm.firstPaymentDate || !clientForm.secondPaymentDate)) {\n      alert('Veuillez spécifier les dates des deux versements.');\n      return;\n    }\n\n    const client = {\n      id: Date.now(),\n      ...clientForm,\n      secondPaymentDate: clientForm.paymentStructure === '1' ? '' : clientForm.secondPaymentDate,\n      secondPaymentMethod: clientForm.paymentStructure === '1' ? '' : clientForm.secondPaymentMethod\n    };\n\n    const newClients = [...clients, client];\n    setClients(newClients);\n    saveToStorage('clients', newClients);\n    setClientForm({\n      name: '', phone: '', email: '', type: '', address: '',\n      paymentStructure: '2', firstPaymentDate: '', secondPaymentDate: '',\n      firstPaymentMethod: '', secondPaymentMethod: ''\n    });\n    alert('Client ajouté avec succès !');\n  };\n\n  const deleteClient = (id) => {\n    if (window.confirm('Supprimer ce client ? Cette action est irréversible.')) {\n      const newClients = clients.filter(client => client.id !== id);\n      setClients(newClients);\n      saveToStorage('clients', newClients);\n    }\n  };\n\n  const startEditClient = (client) => {\n    setEditingClient(client.id);\n    setEditClientForm({\n      ...client,\n      paymentStructure: client.paymentStructure || '2',\n      firstPaymentMethod: client.firstPaymentMethod || '',\n      secondPaymentMethod: client.secondPaymentMethod || ''\n    });\n  };\n\n  const saveEditClient = () => {\n    const updatedClients = clients.map(client =>\n      client.id === editingClient ? { ...client, ...editClientForm } : client\n    );\n    setClients(updatedClients);\n    saveToStorage('clients', updatedClients);\n    setEditingClient(null);\n    setEditClientForm({\n      name: '', phone: '', email: '', type: '', address: '',\n      paymentStructure: '2', firstPaymentDate: '', secondPaymentDate: '',\n      firstPaymentMethod: '', secondPaymentMethod: ''\n    });\n    alert('Client modifié avec succès !');\n  };\n\n  const cancelEdit = () => {\n    setEditingClient(null);\n    setEditClientForm({\n      name: '', phone: '', email: '', type: '', address: '',\n      paymentStructure: '2', firstPaymentDate: '', secondPaymentDate: '',\n      firstPaymentMethod: '', secondPaymentMethod: ''\n    });\n  };\n\n  const showPaymentModalFunc = (clientId, paymentNumber, amount) => {\n    setPaymentModal({\n      isOpen: true,\n      clientId,\n      paymentNumber,\n      amount\n    });\n  };\n\n  const alerts = getPaymentAlerts();\n\n  return (\n    <div style={{ background: 'white', padding: '30px', borderRadius: '15px', boxShadow: '0 4px 15px rgba(0,0,0,0.1)' }}>\n      <h2 style={{ color: '#1a4d1a', marginBottom: '25px', fontSize: '1.8em' }}>Gestion des Clients</h2>\n\n      {/* Alertes de paiement */}\n      {alerts.length > 0 && (\n        <div style={{\n          background: '#fff3cd', border: '1px solid #ffeaa7', borderRadius: '12px',\n          padding: '20px', marginBottom: '30px', borderLeft: '5px solid #fdcb6e'\n        }}>\n          <h3 style={{ color: '#856404', marginBottom: '15px', fontSize: '1.4em' }}>\n            ⚠️ Alertes de Paiements ({alerts.length})\n          </h3>\n          <div style={{ display: 'grid', gap: '10px' }}>\n            {alerts.map((alert, index) => (\n              <div key={index} style={{\n                padding: '12px 16px', borderRadius: '8px',\n                background: alert.priority === 'high' ? '#f8d7da' : '#fff3cd',\n                border: `1px solid ${alert.priority === 'high' ? '#f5c6cb' : '#ffeaa7'}`,\n                display: 'flex', justifyContent: 'space-between', alignItems: 'center'\n              }}>\n                <div>\n                  <strong style={{ color: alert.priority === 'high' ? '#721c24' : '#856404' }}>\n                    {alert.client}\n                  </strong>\n                  <div style={{ fontSize: '14px', color: '#666', marginTop: '4px' }}>\n                    {alert.message}\n                  </div>\n                </div>\n                <div style={{\n                  padding: '6px 12px', borderRadius: '20px', fontSize: '12px', fontWeight: 'bold',\n                  background: alert.priority === 'high' ? '#dc3545' : '#ffc107', color: 'white'\n                }}>\n                  {alert.amount}$\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Panneau de recherche avancée */}\n      <div style={{\n        background: '#f8f9fa', padding: '20px', borderRadius: '12px',\n        marginBottom: '20px', border: '1px solid #dee2e6'\n      }}>\n        <h4 style={{ color: '#495057', marginBottom: '15px' }}>🔍 Recherche Avancée</h4>\n\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px' }}>\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Recherche générale</label>\n            <input\n              type=\"text\"\n              placeholder=\"Nom, adresse, téléphone...\"\n              value={clientSearchFilters.searchTerm}\n              onChange={(e) => setClientSearchFilters({ ...clientSearchFilters, searchTerm: e.target.value })}\n              style={{ \n                width: '100%', padding: '8px 12px', borderRadius: '6px', \n                border: '1px solid #ddd', fontSize: '14px'\n              }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Type de client</label>\n            <select\n              value={clientSearchFilters.type}\n              onChange={(e) => setClientSearchFilters({ ...clientSearchFilters, type: e.target.value })}\n              style={{ \n                width: '100%', padding: '8px 12px', borderRadius: '6px', \n                border: '1px solid #ddd', fontSize: '14px'\n              }}\n            >\n              <option value=\"\">Tous les types</option>\n              <option value=\"résidentiel\">Résidentiel</option>\n              <option value=\"commercial\">Commercial</option>\n              <option value=\"industriel\">Industriel</option>\n            </select>\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Statut paiement</label>\n            <select\n              value={clientSearchFilters.paymentStatus}\n              onChange={(e) => setClientSearchFilters({ ...clientSearchFilters, paymentStatus: e.target.value })}\n              style={{ \n                width: '100%', padding: '8px 12px', borderRadius: '6px', \n                border: '1px solid #ddd', fontSize: '14px'\n              }}\n            >\n              <option value=\"\">Tous les statuts</option>\n              <option value=\"paid_full\">Payé complètement</option>\n              <option value=\"paid_partial\">Partiellement payé</option>\n              <option value=\"unpaid\">Non payé</option>\n            </select>\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Nom de rue</label>\n            <input\n              type=\"text\"\n              placeholder=\"Ex: rue Principale\"\n              value={clientSearchFilters.streetName}\n              onChange={(e) => setClientSearchFilters({ ...clientSearchFilters, streetName: e.target.value })}\n              style={{ \n                width: '100%', padding: '8px 12px', borderRadius: '6px', \n                border: '1px solid #ddd', fontSize: '14px'\n              }}\n            />\n          </div>\n        </div>\n\n        <div style={{ marginTop: '15px', display: 'flex', gap: '10px', alignItems: 'center' }}>\n          <button\n            onClick={() => setClientSearchFilters({ searchTerm: '', type: '', paymentStatus: '', streetName: '' })}\n            style={{\n              padding: '8px 16px', background: '#6c757d', color: 'white',\n              border: 'none', borderRadius: '6px', cursor: 'pointer', fontWeight: 'bold'\n            }}\n          >\n            Réinitialiser\n          </button>\n          <div style={{ color: '#666', fontSize: '14px', fontWeight: 'bold' }}>\n            Résultats: {getAdvancedFilteredClients().length} client(s) trouvé(s)\n          </div>\n        </div>\n      </div>\n\n      {/* Formulaire d'ajout de client */}\n      {!editingClient && (\n        <div style={{\n          background: '#f8f9fa', padding: '25px', borderRadius: '12px',\n          marginBottom: '25px', border: '1px solid #dee2e6'\n        }}>\n          <h4 style={{ color: '#495057', marginBottom: '20px' }}>➕ Ajouter un nouveau client</h4>\n          \n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '15px', marginBottom: '15px' }}>\n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Nom du client *</label>\n              <input\n                type=\"text\"\n                value={clientForm.name}\n                onChange={(e) => setClientForm({ ...clientForm, name: e.target.value })}\n                placeholder=\"Ex: Jean Dupont\"\n                style={{ \n                  width: '100%', padding: '10px 12px', borderRadius: '6px', \n                  border: '1px solid #ddd', fontSize: '14px'\n                }}\n              />\n            </div>\n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Téléphone *</label>\n              <input\n                type=\"tel\"\n                value={clientForm.phone}\n                onChange={(e) => setClientForm({ ...clientForm, phone: e.target.value })}\n                placeholder=\"514-555-0123\"\n                style={{ \n                  width: '100%', padding: '10px 12px', borderRadius: '6px', \n                  border: '1px solid #ddd', fontSize: '14px'\n                }}\n              />\n            </div>\n          </div>\n\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '15px', marginBottom: '15px' }}>\n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Email</label>\n              <input\n                type=\"email\"\n                value={clientForm.email}\n                onChange={(e) => setClientForm({ ...clientForm, email: e.target.value })}\n                placeholder=\"client@example.com\"\n                style={{ \n                  width: '100%', padding: '10px 12px', borderRadius: '6px', \n                  border: '1px solid #ddd', fontSize: '14px'\n                }}\n              />\n            </div>\n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Type de client</label>\n              <select\n                value={clientForm.type}\n                onChange={(e) => setClientForm({ ...clientForm, type: e.target.value })}\n                style={{ \n                  width: '100%', padding: '10px 12px', borderRadius: '6px', \n                  border: '1px solid #ddd', fontSize: '14px'\n                }}\n              >\n                <option value=\"\">Sélectionner...</option>\n                <option value=\"résidentiel\">Résidentiel</option>\n                <option value=\"commercial\">Commercial</option>\n                <option value=\"industriel\">Industriel</option>\n              </select>\n            </div>\n          </div>\n\n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Adresse complète *</label>\n            <textarea\n              rows=\"2\"\n              value={clientForm.address}\n              onChange={(e) => setClientForm({ ...clientForm, address: e.target.value })}\n              placeholder=\"123 Rue Example, Ville, Province, Code postal\"\n              style={{ \n                width: '100%', padding: '10px 12px', borderRadius: '6px', \n                border: '1px solid #ddd', fontSize: '14px', resize: 'vertical'\n              }}\n            />\n          </div>\n\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '15px', marginBottom: '15px' }}>\n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Structure de paiement</label>\n              <select\n                value={clientForm.paymentStructure}\n                onChange={(e) => setClientForm({ ...clientForm, paymentStructure: e.target.value })}\n                style={{ \n                  width: '100%', padding: '10px 12px', borderRadius: '6px', \n                  border: '1px solid #ddd', fontSize: '14px'\n                }}\n              >\n                <option value=\"1\">1 versement unique</option>\n                <option value=\"2\">2 versements</option>\n              </select>\n            </div>\n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Date 1er versement</label>\n              <input\n                type=\"date\"\n                value={clientForm.firstPaymentDate}\n                onChange={(e) => setClientForm({ ...clientForm, firstPaymentDate: e.target.value })}\n                style={{ \n                  width: '100%', padding: '10px 12px', borderRadius: '6px', \n                  border: '1px solid #ddd', fontSize: '14px'\n                }}\n              />\n            </div>\n          </div>\n\n          {clientForm.paymentStructure === '2' && (\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '15px', marginBottom: '15px' }}>\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Date 2e versement</label>\n                <input\n                  type=\"date\"\n                  value={clientForm.secondPaymentDate}\n                  onChange={(e) => setClientForm({ ...clientForm, secondPaymentDate: e.target.value })}\n                  style={{ \n                    width: '100%', padding: '10px 12px', borderRadius: '6px', \n                    border: '1px solid #ddd', fontSize: '14px'\n                  }}\n                />\n              </div>\n              <div></div>\n            </div>\n          )}\n\n          <button\n            onClick={addClient}\n            style={{\n              padding: '12px 25px', background: '#28a745', color: 'white',\n              border: 'none', borderRadius: '8px', cursor: 'pointer',\n              fontWeight: 'bold', fontSize: '16px'\n            }}\n          >\n            ➕ Ajouter Client\n          </button>\n        </div>\n      )}\n\n      {/* Liste des clients */}\n      {getAdvancedFilteredClients().length > 0 ? (\n        <div style={{ overflowX: 'auto' }}>\n          <table style={{\n            width: '100%', borderCollapse: 'collapse',\n            background: 'white', borderRadius: '12px', overflow: 'hidden',\n            boxShadow: '0 4px 15px rgba(0,0,0,0.1)'\n          }}>\n            <thead>\n              <tr style={{ background: '#f8f9fa' }}>\n                <th style={{ padding: '15px', textAlign: 'left', borderBottom: '2px solid #dee2e6', fontWeight: 'bold' }}>Client</th>\n                <th style={{ padding: '15px', textAlign: 'left', borderBottom: '2px solid #dee2e6', fontWeight: 'bold' }}>Contact</th>\n                <th style={{ padding: '15px', textAlign: 'left', borderBottom: '2px solid #dee2e6', fontWeight: 'bold' }}>Type</th>\n                <th style={{ padding: '15px', textAlign: 'left', borderBottom: '2px solid #dee2e6', fontWeight: 'bold' }}>Structure Paiement</th>\n                <th style={{ padding: '15px', textAlign: 'left', borderBottom: '2px solid #dee2e6', fontWeight: 'bold' }}>Statut Paiements</th>\n                <th style={{ padding: '15px', textAlign: 'left', borderBottom: '2px solid #dee2e6', fontWeight: 'bold' }}>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {getAdvancedFilteredClients()\n                .sort((a, b) => a.name.toLowerCase().localeCompare(b.name.toLowerCase()))\n                .map(client => {\n                  const contract = contracts.find(c => c.clientId === client.id && !c.archived);\n                  const firstPaymentReceived = isPaymentReceived(client.id, 1);\n                  const secondPaymentReceived = isPaymentReceived(client.id, 2);\n                  \n                  const firstPayment = payments.find(p => p.clientId === client.id && p.paymentNumber === 1);\n                  const secondPayment = payments.find(p => p.clientId === client.id && p.paymentNumber === 2);\n\n                  return editingClient === client.id ? (\n                    // Mode édition\n                    <tr key={client.id} style={{ background: '#fff3cd' }}>\n                      <td colSpan=\"6\" style={{ padding: '20px' }}>\n                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '15px' }}>\n                          <div>\n                            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Nom</label>\n                            <input\n                              type=\"text\"\n                              value={editClientForm.name}\n                              onChange={(e) => setEditClientForm({ ...editClientForm, name: e.target.value })}\n                              style={{ width: '100%', padding: '8px 12px', borderRadius: '6px', border: '1px solid #ddd' }}\n                            />\n                          </div>\n                          <div>\n                            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Téléphone</label>\n                            <input\n                              type=\"tel\"\n                              value={editClientForm.phone}\n                              onChange={(e) => setEditClientForm({ ...editClientForm, phone: e.target.value })}\n                              style={{ width: '100%', padding: '8px 12px', borderRadius: '6px', border: '1px solid #ddd' }}\n                            />\n                          </div>\n                          <div>\n                            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Email</label>\n                            <input\n                              type=\"email\"\n                              value={editClientForm.email}\n                              onChange={(e) => setEditClientForm({ ...editClientForm, email: e.target.value })}\n                              style={{ width: '100%', padding: '8px 12px', borderRadius: '6px', border: '1px solid #ddd' }}\n                            />\n                          </div>\n                        </div>\n                        <div style={{ marginTop: '15px' }}>\n                          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>Adresse</label>\n                          <textarea\n                            value={editClientForm.address}\n                            onChange={(e) => setEditClientForm({ ...editClientForm, address: e.target.value })}\n                            style={{ width: '100%', padding: '8px 12px', borderRadius: '6px', border: '1px solid #ddd', resize: 'vertical' }}\n                          />\n                        </div>\n                        <div style={{ marginTop: '15px', display: 'flex', gap: '10px' }}>\n                          <button\n                            onClick={saveEditClient}\n                            style={{\n                              padding: '10px 20px', background: '#28a745', color: 'white',\n                              border: 'none', borderRadius: '6px', cursor: 'pointer', fontWeight: 'bold'\n                            }}\n                          >\n                            Sauvegarder\n                          </button>\n                          <button\n                            onClick={cancelEdit}\n                            style={{\n                              padding: '10px 20px', background: '#6c757d', color: 'white',\n                              border: 'none', borderRadius: '6px', cursor: 'pointer', fontWeight: 'bold'\n                            }}\n                          >\n                            Annuler\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ) : (\n                    // Mode affichage normal\n                    <tr key={client.id} style={{ borderBottom: '1px solid #dee2e6' }}>\n                      <td style={{ padding: '15px' }}>\n                        <div>\n                          <strong style={{ color: '#1a4d1a', fontSize: '16px' }}>{client.name}</strong>\n                          <div style={{ fontSize: '13px', color: '#666', marginTop: '2px' }}>\n                            {client.address}\n                          </div>\n                        </div>\n                      </td>\n                      \n                      <td style={{ padding: '15px' }}>\n                        <div>\n                          <div style={{ marginBottom: '4px' }}>📞 {client.phone}</div>\n                          {client.email && <div style={{ fontSize: '12px', color: '#666' }}>📧 {client.email}</div>}\n                        </div>\n                      </td>\n                      \n                      <td style={{ padding: '15px' }}>\n                        <span style={{\n                          padding: '4px 8px', borderRadius: '12px', fontSize: '12px',\n                          fontWeight: 'bold', background: '#e8f5e8', color: '#1a4d1a'\n                        }}>\n                          {client.type || 'Non défini'}\n                        </span>\n                      </td>\n\n                      <td style={{ padding: '15px' }}>\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>\n                          <span style={{\n                            padding: '2px 6px', borderRadius: '10px', fontSize: '11px', fontWeight: 'bold',\n                            background: '#e3f2fd', color: '#1976d2'\n                          }}>\n                            {client.paymentStructure === '1' ? '1 versement' : '2 versements'}\n                          </span>\n                          \n                          {client.firstPaymentDate && (\n                            <div style={{ fontSize: '10px', color: '#666' }}>\n                              1er: {client.firstPaymentDate}\n                            </div>\n                          )}\n                          {client.paymentStructure === '2' && client.secondPaymentDate && (\n                            <div style={{ fontSize: '10px', color: '#666' }}>\n                              2e: {client.secondPaymentDate}\n                            </div>\n                          )}\n                        </div>\n                      </td>\n\n                      <td style={{ padding: '15px' }}>\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '6px' }}>\n                          {/* Premier versement */}\n                          <div style={{\n                            display: 'flex', flexDirection: 'column', gap: '2px',\n                            padding: '6px 8px', borderRadius: '8px',\n                            background: firstPaymentReceived ? '#d4edda' : '#f8d7da',\n                            border: `1px solid ${firstPaymentReceived ? '#c3e6cb' : '#f5c6cb'}`\n                          }}>\n                            <div style={{\n                              fontSize: '11px', fontWeight: 'bold',\n                              color: firstPaymentReceived ? '#155724' : '#721c24'\n                            }}>\n                              1er: {firstPaymentReceived ? 'Reçu' : 'En attente'}\n                            </div>\n                            \n                            {firstPayment && (\n                              <div style={{ fontSize: '10px', color: '#666' }}>\n                                {firstPayment.date} - {firstPayment.amount.toFixed(0)}$\n                              </div>\n                            )}\n                            \n                            {!firstPaymentReceived && contract && (\n                              <div style={{ fontSize: '10px', color: '#721c24', fontWeight: 'bold' }}>\n                                Attendu: {(contract.amount / (client.paymentStructure === '1' ? 1 : 2)).toFixed(0)}$\n                              </div>\n                            )}\n                          </div>\n\n                          {/* Deuxième versement si applicable */}\n                          {client.paymentStructure === '2' && (\n                            <div style={{\n                              display: 'flex', flexDirection: 'column', gap: '2px',\n                              padding: '6px 8px', borderRadius: '8px',\n                              background: secondPaymentReceived ? '#d4edda' : '#f8d7da',\n                              border: `1px solid ${secondPaymentReceived ? '#c3e6cb' : '#f5c6cb'}`\n                            }}>\n                              <div style={{\n                                fontSize: '11px', fontWeight: 'bold',\n                                color: secondPaymentReceived ? '#155724' : '#721c24'\n                              }}>\n                                2e: {secondPaymentReceived ? 'Reçu' : 'En attente'}\n                              </div>\n                              \n                              {secondPayment && (\n                                <div style={{ fontSize: '10px', color: '#666' }}>\n                                  {secondPayment.date} - {secondPayment.amount.toFixed(0)}$\n                                </div>\n                              )}\n                              \n                              {!secondPaymentReceived && contract && (\n                                <div style={{ fontSize: '10px', color: '#721c24', fontWeight: 'bold' }}>\n                                  Attendu: {(contract.amount / 2).toFixed(0)}$\n                                </div>\n                              )}\n                            </div>\n                          )}\n                        </div>\n                      </td>\n\n                      <td style={{ padding: '15px' }}>\n                        <div style={{ display: 'flex', gap: '5px', flexDirection: 'column' }}>\n                          {contract && !firstPaymentReceived && (\n                            <button\n                              onClick={() => showPaymentModalFunc(client.id, 1, contract.amount / (client.paymentStructure === '1' ? 1 : 2))}\n                              style={{\n                                padding: '5px 10px', background: '#28a745', color: 'white',\n                                border: 'none', borderRadius: '4px', fontSize: '12px',\n                                cursor: 'pointer', fontWeight: 'bold'\n                              }}\n                            >\n                              💰 1er Paiement\n                            </button>\n                          )}\n                          \n                          {contract && client.paymentStructure === '2' && firstPaymentReceived && !secondPaymentReceived && (\n                            <button\n                              onClick={() => showPaymentModalFunc(client.id, 2, contract.amount / 2)}\n                              style={{\n                                padding: '5px 10px', background: '#28a745', color: 'white',\n                                border: 'none', borderRadius: '4px', fontSize: '12px',\n                                cursor: 'pointer', fontWeight: 'bold'\n                              }}\n                            >\n                              💰 2e Paiement\n                            </button>\n                          )}\n\n                          <button\n                            onClick={() => startEditClient(client)}\n                            style={{\n                              padding: '5px 10px', fontSize: '12px', background: '#ffc107', \n                              color: '#000', border: 'none', borderRadius: '4px', \n                              cursor: 'pointer', fontWeight: 'bold'\n                            }}\n                          >\n                            ✏️ Modifier\n                          </button>\n                          \n                          <button\n                            onClick={() => deleteClient(client.id)}\n                            style={{\n                              padding: '5px 10px', fontSize: '12px', background: '#dc3545',\n                              color: 'white', border: 'none', borderRadius: '4px',\n                              cursor: 'pointer', fontWeight: 'bold'\n                            }}\n                          >\n                            🗑️ Supprimer\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        <div style={{\n          textAlign: 'center', padding: '40px 20px',\n          background: '#f8f9fa', borderRadius: '12px',\n          color: '#666', fontSize: '16px'\n        }}>\n          Aucun client trouvé avec ces critères de recherche.\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ClientsSection;\n"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAKjB,IALkB,CACtBC,OAAO,CAAEC,UAAU,CAAEC,UAAU,CAAEC,aAAa,CAC9CC,aAAa,CAAEC,gBAAgB,CAAEC,cAAc,CAAEC,iBAAiB,CAClEC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,iBAAiB,CACrDC,YAAY,CAAEC,eAChB,CAAC,CAAAd,IAAA,CACC,KAAM,CAACe,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGtB,QAAQ,CAAC,CAC7DuB,UAAU,CAAE,EAAE,CACdC,IAAI,CAAE,EAAE,CACRC,aAAa,CAAE,EAAE,CACjBC,UAAU,CAAE,EACd,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACxB,KAAM,CAAAC,MAAM,CAAG,EAAE,CACjBvB,OAAO,CAACwB,OAAO,CAACC,MAAM,EAAI,CACxB,KAAM,CAAAC,QAAQ,CAAGjB,SAAS,CAACkB,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,QAAQ,GAAKJ,MAAM,CAACK,EAAE,EAAI,CAACF,CAAC,CAACG,QAAQ,CAAC,CAC7E,GAAI,CAACL,QAAQ,CAAE,OAEf,KAAM,CAAAM,oBAAoB,CAAGrB,iBAAiB,CAACc,MAAM,CAACK,EAAE,CAAE,CAAC,CAAC,CAC5D,KAAM,CAAAG,qBAAqB,CAAGtB,iBAAiB,CAACc,MAAM,CAACK,EAAE,CAAE,CAAC,CAAC,CAE7D,GAAIL,MAAM,CAACS,gBAAgB,EAAI,CAACF,oBAAoB,CAAE,CACpD,KAAM,CAAAE,gBAAgB,CAAG,GAAI,CAAAZ,IAAI,CAACG,MAAM,CAACS,gBAAgB,CAAC,CAC1D,GAAIA,gBAAgB,CAAGb,KAAK,CAAE,CAC5B,KAAM,CAAAc,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAAC,CAAChB,KAAK,CAAGa,gBAAgB,GAAK,IAAI,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CAC/EX,MAAM,CAACe,IAAI,CAAC,CACVrB,IAAI,CAAE,SAAS,CAAEQ,MAAM,CAAEA,MAAM,CAACc,IAAI,CACpCC,OAAO,+BAAAC,MAAA,CAAgCN,QAAQ,YAAU,CACzDO,MAAM,CAAE,CAAChB,QAAQ,CAACgB,MAAM,EAAIjB,MAAM,CAACkB,gBAAgB,GAAK,GAAG,CAAG,CAAC,CAAG,CAAC,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC,CAChFC,QAAQ,CAAE,MACZ,CAAC,CAAC,CACJ,CACF,CAEA,GAAIpB,MAAM,CAACkB,gBAAgB,GAAK,GAAG,EAAIlB,MAAM,CAACqB,iBAAiB,EAAI,CAACb,qBAAqB,CAAE,CACzF,KAAM,CAAAa,iBAAiB,CAAG,GAAI,CAAAxB,IAAI,CAACG,MAAM,CAACqB,iBAAiB,CAAC,CAC5D,GAAIA,iBAAiB,CAAGzB,KAAK,CAAE,CAC7B,KAAM,CAAAc,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAAC,CAAChB,KAAK,CAAGyB,iBAAiB,GAAK,IAAI,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CAChFvB,MAAM,CAACe,IAAI,CAAC,CACVrB,IAAI,CAAE,SAAS,CAAEQ,MAAM,CAAEA,MAAM,CAACc,IAAI,CACpCC,OAAO,8BAAAC,MAAA,CAA+BN,QAAQ,YAAU,CACxDO,MAAM,CAAE,CAAChB,QAAQ,CAACgB,MAAM,CAAG,CAAC,EAAEE,OAAO,CAAC,CAAC,CAAC,CACxCC,QAAQ,CAAE,MACZ,CAAC,CAAC,CACJ,CACF,CACF,CAAC,CAAC,CACF,MAAO,CAAAtB,MAAM,CACf,CAAC,CAED;AACA,KAAM,CAAAwB,iBAAiB,CAAIC,OAAO,EAAK,CACrC,GAAI,CAACA,OAAO,EAAI,MAAO,CAAAA,OAAO,GAAK,QAAQ,CAAE,MAAO,uBAAuB,CAE3E,GAAI,CACF,KAAM,CAAAC,YAAY,CAAGD,OAAO,CAACE,IAAI,CAAC,CAAC,CACnC,KAAM,CAAAC,KAAK,CAAGF,YAAY,CAACG,KAAK,CAAC,GAAG,CAAC,CACrC,GAAID,KAAK,CAACE,MAAM,GAAK,CAAC,CAAE,MAAO,uBAAuB,CAEtD,GAAI,CAAAC,UAAU,CAAGH,KAAK,CAAC,CAAC,CAAC,CAACD,IAAI,CAAC,CAAC,CAChCI,UAAU,CAAGA,UAAU,CAACC,OAAO,CAAC,mCAAmC,CAAE,EAAE,CAAC,CAACL,IAAI,CAAC,CAAC,CAE/E,GAAI,CAACI,UAAU,CAAE,CACfA,UAAU,CAAGH,KAAK,CAAC,CAAC,CAAC,CAACD,IAAI,CAAC,CAAC,CAC9B,CAEAI,UAAU,CAAGA,UAAU,CACpBC,OAAO,CAAC,aAAa,CAAE,MAAM,CAAC,CAC9BA,OAAO,CAAC,aAAa,CAAE,MAAM,CAAC,CAC9BA,OAAO,CAAC,eAAe,CAAE,SAAS,CAAC,CACnCA,OAAO,CAAC,gBAAgB,CAAE,SAAS,CAAC,CACpCA,OAAO,CAAC,iBAAiB,CAAE,YAAY,CAAC,CACxCA,OAAO,CAAC,mBAAmB,CAAE,YAAY,CAAC,CAC1CA,OAAO,CAAC,iBAAiB,CAAE,YAAY,CAAC,CAE3CD,UAAU,CAAGA,UAAU,CAACC,OAAO,CAAC,MAAM,CAAE,GAAG,CAAC,CAACL,IAAI,CAAC,CAAC,CAEnDI,UAAU,CAAGA,UAAU,CAACF,KAAK,CAAC,GAAG,CAAC,CAC/BI,GAAG,CAACC,IAAI,EAAIA,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGF,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CACvEC,IAAI,CAAC,GAAG,CAAC,CAEZ,MAAO,CAAAR,UAAU,EAAI,uBAAuB,CAE9C,CAAE,MAAOS,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEf,OAAO,CAAEe,KAAK,CAAC,CAC5D,MAAO,uBAAuB,CAChC,CACF,CAAC,CAED;AACA,KAAM,CAAAE,0BAA0B,CAAGA,CAAA,GAAM,CACvC,MAAO,CAAAjE,OAAO,CAACkE,MAAM,CAACzC,MAAM,EAAI,CAC9B,KAAM,CAAA0C,aAAa,CAAG,CAACrD,mBAAmB,CAACE,UAAU,EACnDS,MAAM,CAACc,IAAI,CAACsB,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACtD,mBAAmB,CAACE,UAAU,CAAC6C,WAAW,CAAC,CAAC,CAAC,EAChFpC,MAAM,CAACuB,OAAO,CAACa,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACtD,mBAAmB,CAACE,UAAU,CAAC6C,WAAW,CAAC,CAAC,CAAC,EACnFpC,MAAM,CAAC4C,KAAK,CAACD,QAAQ,CAACtD,mBAAmB,CAACE,UAAU,CAAC,CAEvD,KAAM,CAAAsD,WAAW,CAAG,CAACxD,mBAAmB,CAACG,IAAI,EAAIQ,MAAM,CAACR,IAAI,GAAKH,mBAAmB,CAACG,IAAI,CAEzF,KAAM,CAAAsD,aAAa,CAAG,CAACzD,mBAAmB,CAACK,UAAU,EACnD4B,iBAAiB,CAACtB,MAAM,CAACuB,OAAO,CAAC,CAACa,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACtD,mBAAmB,CAACK,UAAU,CAAC0C,WAAW,CAAC,CAAC,CAAC,CAExG,GAAI,CAAAW,oBAAoB,CAAG,IAAI,CAC/B,GAAI1D,mBAAmB,CAACI,aAAa,CAAE,CACrC,KAAM,CAAAuD,SAAS,CAAG9D,iBAAiB,CAACc,MAAM,CAACK,EAAE,CAAE,CAAC,CAAC,CACjD,KAAM,CAAA4C,UAAU,CAAG/D,iBAAiB,CAACc,MAAM,CAACK,EAAE,CAAE,CAAC,CAAC,CAClD,KAAM,CAAAa,gBAAgB,CAAGlB,MAAM,CAACkB,gBAAgB,EAAI,GAAG,CAEvD,OAAQ7B,mBAAmB,CAACI,aAAa,EACvC,IAAK,WAAW,CACdsD,oBAAoB,CAAG7B,gBAAgB,GAAK,GAAG,CAAG8B,SAAS,CAAIA,SAAS,EAAIC,UAAW,CACvF,MACF,IAAK,cAAc,CACjBF,oBAAoB,CAAG7B,gBAAgB,GAAK,GAAG,EAAI8B,SAAS,EAAI,CAACC,UAAU,CAC3E,MACF,IAAK,QAAQ,CACXF,oBAAoB,CAAG,CAACC,SAAS,CACjC,MACJ,CACF,CAEA,MAAO,CAAAN,aAAa,EAAIG,WAAW,EAAIC,aAAa,EAAIC,oBAAoB,CAC9E,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAG,SAAS,CAAGA,CAAA,GAAM,CACtB,GAAI,CAACzE,UAAU,CAACqC,IAAI,EAAI,CAACrC,UAAU,CAACmE,KAAK,EAAI,CAACnE,UAAU,CAAC8C,OAAO,CAAE,CAChE4B,KAAK,CAAC,+DAA+D,CAAC,CACtE,OACF,CAEA,GAAI1E,UAAU,CAACyC,gBAAgB,GAAK,GAAG,EAAI,CAACzC,UAAU,CAACgC,gBAAgB,CAAE,CACvE0C,KAAK,CAAC,yCAAyC,CAAC,CAChD,OACF,CAEA,GAAI1E,UAAU,CAACyC,gBAAgB,GAAK,GAAG,GAAK,CAACzC,UAAU,CAACgC,gBAAgB,EAAI,CAAChC,UAAU,CAAC4C,iBAAiB,CAAC,CAAE,CAC1G8B,KAAK,CAAC,mDAAmD,CAAC,CAC1D,OACF,CAEA,KAAM,CAAAnD,MAAM,CAAAoD,aAAA,CAAAA,aAAA,EACV/C,EAAE,CAAER,IAAI,CAACwD,GAAG,CAAC,CAAC,EACX5E,UAAU,MACb4C,iBAAiB,CAAE5C,UAAU,CAACyC,gBAAgB,GAAK,GAAG,CAAG,EAAE,CAAGzC,UAAU,CAAC4C,iBAAiB,CAC1FiC,mBAAmB,CAAE7E,UAAU,CAACyC,gBAAgB,GAAK,GAAG,CAAG,EAAE,CAAGzC,UAAU,CAAC6E,mBAAmB,EAC/F,CAED,KAAM,CAAAC,UAAU,CAAG,CAAC,GAAGhF,OAAO,CAAEyB,MAAM,CAAC,CACvCxB,UAAU,CAAC+E,UAAU,CAAC,CACtBxE,aAAa,CAAC,SAAS,CAAEwE,UAAU,CAAC,CACpC7E,aAAa,CAAC,CACZoC,IAAI,CAAE,EAAE,CAAE8B,KAAK,CAAE,EAAE,CAAEY,KAAK,CAAE,EAAE,CAAEhE,IAAI,CAAE,EAAE,CAAE+B,OAAO,CAAE,EAAE,CACrDL,gBAAgB,CAAE,GAAG,CAAET,gBAAgB,CAAE,EAAE,CAAEY,iBAAiB,CAAE,EAAE,CAClEoC,kBAAkB,CAAE,EAAE,CAAEH,mBAAmB,CAAE,EAC/C,CAAC,CAAC,CACFH,KAAK,CAAC,6BAA6B,CAAC,CACtC,CAAC,CAED,KAAM,CAAAO,YAAY,CAAIrD,EAAE,EAAK,CAC3B,GAAIsD,MAAM,CAACC,OAAO,CAAC,sDAAsD,CAAC,CAAE,CAC1E,KAAM,CAAAL,UAAU,CAAGhF,OAAO,CAACkE,MAAM,CAACzC,MAAM,EAAIA,MAAM,CAACK,EAAE,GAAKA,EAAE,CAAC,CAC7D7B,UAAU,CAAC+E,UAAU,CAAC,CACtBxE,aAAa,CAAC,SAAS,CAAEwE,UAAU,CAAC,CACtC,CACF,CAAC,CAED,KAAM,CAAAM,eAAe,CAAI7D,MAAM,EAAK,CAClCpB,gBAAgB,CAACoB,MAAM,CAACK,EAAE,CAAC,CAC3BvB,iBAAiB,CAAAsE,aAAA,CAAAA,aAAA,IACZpD,MAAM,MACTkB,gBAAgB,CAAElB,MAAM,CAACkB,gBAAgB,EAAI,GAAG,CAChDuC,kBAAkB,CAAEzD,MAAM,CAACyD,kBAAkB,EAAI,EAAE,CACnDH,mBAAmB,CAAEtD,MAAM,CAACsD,mBAAmB,EAAI,EAAE,EACtD,CAAC,CACJ,CAAC,CAED,KAAM,CAAAQ,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,cAAc,CAAGxF,OAAO,CAACwD,GAAG,CAAC/B,MAAM,EACvCA,MAAM,CAACK,EAAE,GAAK1B,aAAa,CAAAyE,aAAA,CAAAA,aAAA,IAAQpD,MAAM,EAAKnB,cAAc,EAAKmB,MACnE,CAAC,CACDxB,UAAU,CAACuF,cAAc,CAAC,CAC1BhF,aAAa,CAAC,SAAS,CAAEgF,cAAc,CAAC,CACxCnF,gBAAgB,CAAC,IAAI,CAAC,CACtBE,iBAAiB,CAAC,CAChBgC,IAAI,CAAE,EAAE,CAAE8B,KAAK,CAAE,EAAE,CAAEY,KAAK,CAAE,EAAE,CAAEhE,IAAI,CAAE,EAAE,CAAE+B,OAAO,CAAE,EAAE,CACrDL,gBAAgB,CAAE,GAAG,CAAET,gBAAgB,CAAE,EAAE,CAAEY,iBAAiB,CAAE,EAAE,CAClEoC,kBAAkB,CAAE,EAAE,CAAEH,mBAAmB,CAAE,EAC/C,CAAC,CAAC,CACFH,KAAK,CAAC,8BAA8B,CAAC,CACvC,CAAC,CAED,KAAM,CAAAa,UAAU,CAAGA,CAAA,GAAM,CACvBpF,gBAAgB,CAAC,IAAI,CAAC,CACtBE,iBAAiB,CAAC,CAChBgC,IAAI,CAAE,EAAE,CAAE8B,KAAK,CAAE,EAAE,CAAEY,KAAK,CAAE,EAAE,CAAEhE,IAAI,CAAE,EAAE,CAAE+B,OAAO,CAAE,EAAE,CACrDL,gBAAgB,CAAE,GAAG,CAAET,gBAAgB,CAAE,EAAE,CAAEY,iBAAiB,CAAE,EAAE,CAClEoC,kBAAkB,CAAE,EAAE,CAAEH,mBAAmB,CAAE,EAC/C,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAW,oBAAoB,CAAGA,CAAC7D,QAAQ,CAAE8D,aAAa,CAAEjD,MAAM,GAAK,CAChE7B,eAAe,CAAC,CACd+E,MAAM,CAAE,IAAI,CACZ/D,QAAQ,CACR8D,aAAa,CACbjD,MACF,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAnB,MAAM,CAAGH,gBAAgB,CAAC,CAAC,CAEjC,mBACEvB,KAAA,QAAKgG,KAAK,CAAE,CAAEC,UAAU,CAAE,OAAO,CAAEC,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAM,CAAEC,SAAS,CAAE,4BAA6B,CAAE,CAAAC,QAAA,eAClHvG,IAAA,OAAIkG,KAAK,CAAE,CAAEM,KAAK,CAAE,SAAS,CAAEC,YAAY,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAAH,QAAA,CAAC,qBAAmB,CAAI,CAAC,CAGjG3E,MAAM,CAAC8B,MAAM,CAAG,CAAC,eAChBxD,KAAA,QAAKgG,KAAK,CAAE,CACVC,UAAU,CAAE,SAAS,CAAEQ,MAAM,CAAE,mBAAmB,CAAEN,YAAY,CAAE,MAAM,CACxED,OAAO,CAAE,MAAM,CAAEK,YAAY,CAAE,MAAM,CAAEG,UAAU,CAAE,mBACrD,CAAE,CAAAL,QAAA,eACArG,KAAA,OAAIgG,KAAK,CAAE,CAAEM,KAAK,CAAE,SAAS,CAAEC,YAAY,CAAE,MAAM,CAAEC,QAAQ,CAAE,OAAQ,CAAE,CAAAH,QAAA,EAAC,qCAC/C,CAAC3E,MAAM,CAAC8B,MAAM,CAAC,GAC1C,EAAI,CAAC,cACL1D,IAAA,QAAKkG,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAP,QAAA,CAC1C3E,MAAM,CAACiC,GAAG,CAAC,CAACoB,KAAK,CAAE8B,KAAK,gBACvB7G,KAAA,QAAiBgG,KAAK,CAAE,CACtBE,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CACzCF,UAAU,CAAElB,KAAK,CAAC/B,QAAQ,GAAK,MAAM,CAAG,SAAS,CAAG,SAAS,CAC7DyD,MAAM,cAAA7D,MAAA,CAAemC,KAAK,CAAC/B,QAAQ,GAAK,MAAM,CAAG,SAAS,CAAG,SAAS,CAAE,CACxE2D,OAAO,CAAE,MAAM,CAAEG,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAChE,CAAE,CAAAV,QAAA,eACArG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,WAAQkG,KAAK,CAAE,CAAEM,KAAK,CAAEvB,KAAK,CAAC/B,QAAQ,GAAK,MAAM,CAAG,SAAS,CAAG,SAAU,CAAE,CAAAqD,QAAA,CACzEtB,KAAK,CAACnD,MAAM,CACP,CAAC,cACT9B,IAAA,QAAKkG,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAM,CAAEF,KAAK,CAAE,MAAM,CAAEU,SAAS,CAAE,KAAM,CAAE,CAAAX,QAAA,CAC/DtB,KAAK,CAACpC,OAAO,CACX,CAAC,EACH,CAAC,cACN3C,KAAA,QAAKgG,KAAK,CAAE,CACVE,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,MAAM,CAAEK,QAAQ,CAAE,MAAM,CAAES,UAAU,CAAE,MAAM,CAC/EhB,UAAU,CAAElB,KAAK,CAAC/B,QAAQ,GAAK,MAAM,CAAG,SAAS,CAAG,SAAS,CAAEsD,KAAK,CAAE,OACxE,CAAE,CAAAD,QAAA,EACCtB,KAAK,CAAClC,MAAM,CAAC,GAChB,EAAK,CAAC,GAnBEgE,KAoBL,CACN,CAAC,CACC,CAAC,EACH,CACN,cAGD7G,KAAA,QAAKgG,KAAK,CAAE,CACVC,UAAU,CAAE,SAAS,CAAEC,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAM,CAC5DI,YAAY,CAAE,MAAM,CAAEE,MAAM,CAAE,mBAChC,CAAE,CAAAJ,QAAA,eACAvG,IAAA,OAAIkG,KAAK,CAAE,CAAEM,KAAK,CAAE,SAAS,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAC,mCAAoB,CAAI,CAAC,cAEhFrG,KAAA,QAAKgG,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAEO,mBAAmB,CAAE,sCAAsC,CAAEN,GAAG,CAAE,MAAO,CAAE,CAAAP,QAAA,eACxGrG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,0BAAkB,CAAO,CAAC,cACvGvG,IAAA,UACEsB,IAAI,CAAC,MAAM,CACX+F,WAAW,CAAC,kCAA4B,CACxCC,KAAK,CAAEnG,mBAAmB,CAACE,UAAW,CACtCkG,QAAQ,CAAGC,CAAC,EAAKpG,sBAAsB,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,mBAAmB,MAAEE,UAAU,CAAEmG,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAChGpB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CACvDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CACH,CAAC,EACC,CAAC,cAENxG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,gBAAc,CAAO,CAAC,cACnGrG,KAAA,WACEoH,KAAK,CAAEnG,mBAAmB,CAACG,IAAK,CAChCiG,QAAQ,CAAGC,CAAC,EAAKpG,sBAAsB,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,mBAAmB,MAAEG,IAAI,CAAEkG,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAC1FpB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CACvDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CAAAH,QAAA,eAEFvG,IAAA,WAAQsH,KAAK,CAAC,EAAE,CAAAf,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACxCvG,IAAA,WAAQsH,KAAK,CAAC,gBAAa,CAAAf,QAAA,CAAC,gBAAW,CAAQ,CAAC,cAChDvG,IAAA,WAAQsH,KAAK,CAAC,YAAY,CAAAf,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC9CvG,IAAA,WAAQsH,KAAK,CAAC,YAAY,CAAAf,QAAA,CAAC,YAAU,CAAQ,CAAC,EACxC,CAAC,EACN,CAAC,cAENrG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,iBAAe,CAAO,CAAC,cACpGrG,KAAA,WACEoH,KAAK,CAAEnG,mBAAmB,CAACI,aAAc,CACzCgG,QAAQ,CAAGC,CAAC,EAAKpG,sBAAsB,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,mBAAmB,MAAEI,aAAa,CAAEiG,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACnGpB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CACvDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CAAAH,QAAA,eAEFvG,IAAA,WAAQsH,KAAK,CAAC,EAAE,CAAAf,QAAA,CAAC,kBAAgB,CAAQ,CAAC,cAC1CvG,IAAA,WAAQsH,KAAK,CAAC,WAAW,CAAAf,QAAA,CAAC,yBAAiB,CAAQ,CAAC,cACpDvG,IAAA,WAAQsH,KAAK,CAAC,cAAc,CAAAf,QAAA,CAAC,uBAAkB,CAAQ,CAAC,cACxDvG,IAAA,WAAQsH,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAC,aAAQ,CAAQ,CAAC,EAClC,CAAC,EACN,CAAC,cAENrG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,YAAU,CAAO,CAAC,cAC/FvG,IAAA,UACEsB,IAAI,CAAC,MAAM,CACX+F,WAAW,CAAC,oBAAoB,CAChCC,KAAK,CAAEnG,mBAAmB,CAACK,UAAW,CACtC+F,QAAQ,CAAGC,CAAC,EAAKpG,sBAAsB,CAAA8D,aAAA,CAAAA,aAAA,IAAM/D,mBAAmB,MAAEK,UAAU,CAAEgG,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAChGpB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CACvDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CACH,CAAC,EACC,CAAC,EACH,CAAC,cAENxG,KAAA,QAAKgG,KAAK,CAAE,CAAEgB,SAAS,CAAE,MAAM,CAAEL,OAAO,CAAE,MAAM,CAAEC,GAAG,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAS,CAAE,CAAAV,QAAA,eACpFvG,IAAA,WACE2H,OAAO,CAAEA,CAAA,GAAMvG,sBAAsB,CAAC,CAAEC,UAAU,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAE,CAAEC,aAAa,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAG,CAAC,CAAE,CACvG0E,KAAK,CAAE,CACLE,OAAO,CAAE,UAAU,CAAED,UAAU,CAAE,SAAS,CAAEK,KAAK,CAAE,OAAO,CAC1DG,MAAM,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAK,CAAEuB,MAAM,CAAE,SAAS,CAAET,UAAU,CAAE,MACtE,CAAE,CAAAZ,QAAA,CACH,kBAED,CAAQ,CAAC,cACTrG,KAAA,QAAKgG,KAAK,CAAE,CAAEM,KAAK,CAAE,MAAM,CAAEE,QAAQ,CAAE,MAAM,CAAES,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,EAAC,gBACxD,CAACjC,0BAA0B,CAAC,CAAC,CAACZ,MAAM,CAAC,yBAClD,EAAK,CAAC,EACH,CAAC,EACH,CAAC,CAGL,CAACjD,aAAa,eACbP,KAAA,QAAKgG,KAAK,CAAE,CACVC,UAAU,CAAE,SAAS,CAAEC,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAM,CAC5DI,YAAY,CAAE,MAAM,CAAEE,MAAM,CAAE,mBAChC,CAAE,CAAAJ,QAAA,eACAvG,IAAA,OAAIkG,KAAK,CAAE,CAAEM,KAAK,CAAE,SAAS,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAC,kCAA2B,CAAI,CAAC,cAEvFrG,KAAA,QAAKgG,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAEO,mBAAmB,CAAE,sCAAsC,CAAEN,GAAG,CAAE,MAAM,CAAEL,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,eAC9HrG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,iBAAe,CAAO,CAAC,cACpGvG,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXgG,KAAK,CAAE/G,UAAU,CAACqC,IAAK,CACvB2E,QAAQ,CAAGC,CAAC,EAAKhH,aAAa,CAAA0E,aAAA,CAAAA,aAAA,IAAM3E,UAAU,MAAEqC,IAAI,CAAE4E,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACxED,WAAW,CAAC,iBAAiB,CAC7BnB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CACxDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CACH,CAAC,EACC,CAAC,cACNxG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,mBAAW,CAAO,CAAC,cAChGvG,IAAA,UACEsB,IAAI,CAAC,KAAK,CACVgG,KAAK,CAAE/G,UAAU,CAACmE,KAAM,CACxB6C,QAAQ,CAAGC,CAAC,EAAKhH,aAAa,CAAA0E,aAAA,CAAAA,aAAA,IAAM3E,UAAU,MAAEmE,KAAK,CAAE8C,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACzED,WAAW,CAAC,cAAc,CAC1BnB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CACxDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CACH,CAAC,EACC,CAAC,EACH,CAAC,cAENxG,KAAA,QAAKgG,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAEO,mBAAmB,CAAE,sCAAsC,CAAEN,GAAG,CAAE,MAAM,CAAEL,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,eAC9HrG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,OAAK,CAAO,CAAC,cAC1FvG,IAAA,UACEsB,IAAI,CAAC,OAAO,CACZgG,KAAK,CAAE/G,UAAU,CAAC+E,KAAM,CACxBiC,QAAQ,CAAGC,CAAC,EAAKhH,aAAa,CAAA0E,aAAA,CAAAA,aAAA,IAAM3E,UAAU,MAAE+E,KAAK,CAAEkC,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACzED,WAAW,CAAC,oBAAoB,CAChCnB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CACxDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CACH,CAAC,EACC,CAAC,cACNxG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,gBAAc,CAAO,CAAC,cACnGrG,KAAA,WACEoH,KAAK,CAAE/G,UAAU,CAACe,IAAK,CACvBiG,QAAQ,CAAGC,CAAC,EAAKhH,aAAa,CAAA0E,aAAA,CAAAA,aAAA,IAAM3E,UAAU,MAAEe,IAAI,CAAEkG,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACxEpB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CACxDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CAAAH,QAAA,eAEFvG,IAAA,WAAQsH,KAAK,CAAC,EAAE,CAAAf,QAAA,CAAC,oBAAe,CAAQ,CAAC,cACzCvG,IAAA,WAAQsH,KAAK,CAAC,gBAAa,CAAAf,QAAA,CAAC,gBAAW,CAAQ,CAAC,cAChDvG,IAAA,WAAQsH,KAAK,CAAC,YAAY,CAAAf,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC9CvG,IAAA,WAAQsH,KAAK,CAAC,YAAY,CAAAf,QAAA,CAAC,YAAU,CAAQ,CAAC,EACxC,CAAC,EACN,CAAC,EACH,CAAC,cAENrG,KAAA,QAAKgG,KAAK,CAAE,CAAEO,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,eACnCvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,uBAAkB,CAAO,CAAC,cACvGvG,IAAA,aACE6H,IAAI,CAAC,GAAG,CACRP,KAAK,CAAE/G,UAAU,CAAC8C,OAAQ,CAC1BkE,QAAQ,CAAGC,CAAC,EAAKhH,aAAa,CAAA0E,aAAA,CAAAA,aAAA,IAAM3E,UAAU,MAAE8C,OAAO,CAAEmE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAC3ED,WAAW,CAAC,+CAA+C,CAC3DnB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CACxDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MAAM,CAAEoB,MAAM,CAAE,UACtD,CAAE,CACH,CAAC,EACC,CAAC,cAEN5H,KAAA,QAAKgG,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAEO,mBAAmB,CAAE,sCAAsC,CAAEN,GAAG,CAAE,MAAM,CAAEL,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,eAC9HrG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,uBAAqB,CAAO,CAAC,cAC1GrG,KAAA,WACEoH,KAAK,CAAE/G,UAAU,CAACyC,gBAAiB,CACnCuE,QAAQ,CAAGC,CAAC,EAAKhH,aAAa,CAAA0E,aAAA,CAAAA,aAAA,IAAM3E,UAAU,MAAEyC,gBAAgB,CAAEwE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACpFpB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CACxDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CAAAH,QAAA,eAEFvG,IAAA,WAAQsH,KAAK,CAAC,GAAG,CAAAf,QAAA,CAAC,oBAAkB,CAAQ,CAAC,cAC7CvG,IAAA,WAAQsH,KAAK,CAAC,GAAG,CAAAf,QAAA,CAAC,cAAY,CAAQ,CAAC,EACjC,CAAC,EACN,CAAC,cACNrG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,oBAAkB,CAAO,CAAC,cACvGvG,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXgG,KAAK,CAAE/G,UAAU,CAACgC,gBAAiB,CACnCgF,QAAQ,CAAGC,CAAC,EAAKhH,aAAa,CAAA0E,aAAA,CAAAA,aAAA,IAAM3E,UAAU,MAAEgC,gBAAgB,CAAEiF,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACpFpB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CACxDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CACH,CAAC,EACC,CAAC,EACH,CAAC,CAELnG,UAAU,CAACyC,gBAAgB,GAAK,GAAG,eAClC9C,KAAA,QAAKgG,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAEO,mBAAmB,CAAE,sCAAsC,CAAEN,GAAG,CAAE,MAAM,CAAEL,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,eAC9HrG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,mBAAiB,CAAO,CAAC,cACtGvG,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXgG,KAAK,CAAE/G,UAAU,CAAC4C,iBAAkB,CACpCoE,QAAQ,CAAGC,CAAC,EAAKhH,aAAa,CAAA0E,aAAA,CAAAA,aAAA,IAAM3E,UAAU,MAAE4C,iBAAiB,CAAEqE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACrFpB,KAAK,CAAE,CACLwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CACxDM,MAAM,CAAE,gBAAgB,CAAED,QAAQ,CAAE,MACtC,CAAE,CACH,CAAC,EACC,CAAC,cACN1G,IAAA,SAAU,CAAC,EACR,CACN,cAEDA,IAAA,WACE2H,OAAO,CAAE3C,SAAU,CACnBkB,KAAK,CAAE,CACLE,OAAO,CAAE,WAAW,CAAED,UAAU,CAAE,SAAS,CAAEK,KAAK,CAAE,OAAO,CAC3DG,MAAM,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAK,CAAEuB,MAAM,CAAE,SAAS,CACtDT,UAAU,CAAE,MAAM,CAAET,QAAQ,CAAE,MAChC,CAAE,CAAAH,QAAA,CACH,uBAED,CAAQ,CAAC,EACN,CACN,CAGAjC,0BAA0B,CAAC,CAAC,CAACZ,MAAM,CAAG,CAAC,cACtC1D,IAAA,QAAKkG,KAAK,CAAE,CAAE6B,SAAS,CAAE,MAAO,CAAE,CAAAxB,QAAA,cAChCrG,KAAA,UAAOgG,KAAK,CAAE,CACZwB,KAAK,CAAE,MAAM,CAAEM,cAAc,CAAE,UAAU,CACzC7B,UAAU,CAAE,OAAO,CAAEE,YAAY,CAAE,MAAM,CAAE4B,QAAQ,CAAE,QAAQ,CAC7D3B,SAAS,CAAE,4BACb,CAAE,CAAAC,QAAA,eACAvG,IAAA,UAAAuG,QAAA,cACErG,KAAA,OAAIgG,KAAK,CAAE,CAAEC,UAAU,CAAE,SAAU,CAAE,CAAAI,QAAA,eACnCvG,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAM,CAAE8B,SAAS,CAAE,MAAM,CAAEC,YAAY,CAAE,mBAAmB,CAAEhB,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,QAAM,CAAI,CAAC,cACrHvG,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAM,CAAE8B,SAAS,CAAE,MAAM,CAAEC,YAAY,CAAE,mBAAmB,CAAEhB,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,SAAO,CAAI,CAAC,cACtHvG,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAM,CAAE8B,SAAS,CAAE,MAAM,CAAEC,YAAY,CAAE,mBAAmB,CAAEhB,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,MAAI,CAAI,CAAC,cACnHvG,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAM,CAAE8B,SAAS,CAAE,MAAM,CAAEC,YAAY,CAAE,mBAAmB,CAAEhB,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,oBAAkB,CAAI,CAAC,cACjIvG,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAM,CAAE8B,SAAS,CAAE,MAAM,CAAEC,YAAY,CAAE,mBAAmB,CAAEhB,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,kBAAgB,CAAI,CAAC,cAC/HvG,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAM,CAAE8B,SAAS,CAAE,MAAM,CAAEC,YAAY,CAAE,mBAAmB,CAAEhB,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,SAAO,CAAI,CAAC,EACpH,CAAC,CACA,CAAC,cACRvG,IAAA,UAAAuG,QAAA,CACGjC,0BAA0B,CAAC,CAAC,CAC1B8D,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACzF,IAAI,CAACsB,WAAW,CAAC,CAAC,CAACqE,aAAa,CAACD,CAAC,CAAC1F,IAAI,CAACsB,WAAW,CAAC,CAAC,CAAC,CAAC,CACxEL,GAAG,CAAC/B,MAAM,EAAI,CACb,KAAM,CAAAC,QAAQ,CAAGjB,SAAS,CAACkB,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,QAAQ,GAAKJ,MAAM,CAACK,EAAE,EAAI,CAACF,CAAC,CAACG,QAAQ,CAAC,CAC7E,KAAM,CAAAC,oBAAoB,CAAGrB,iBAAiB,CAACc,MAAM,CAACK,EAAE,CAAE,CAAC,CAAC,CAC5D,KAAM,CAAAG,qBAAqB,CAAGtB,iBAAiB,CAACc,MAAM,CAACK,EAAE,CAAE,CAAC,CAAC,CAE7D,KAAM,CAAAqG,YAAY,CAAGzH,QAAQ,CAACiB,IAAI,CAACyG,CAAC,EAAIA,CAAC,CAACvG,QAAQ,GAAKJ,MAAM,CAACK,EAAE,EAAIsG,CAAC,CAACzC,aAAa,GAAK,CAAC,CAAC,CAC1F,KAAM,CAAA0C,aAAa,CAAG3H,QAAQ,CAACiB,IAAI,CAACyG,CAAC,EAAIA,CAAC,CAACvG,QAAQ,GAAKJ,MAAM,CAACK,EAAE,EAAIsG,CAAC,CAACzC,aAAa,GAAK,CAAC,CAAC,CAE3F,MAAO,CAAAvF,aAAa,GAAKqB,MAAM,CAACK,EAAE,cAChC;AACAnC,IAAA,OAAoBkG,KAAK,CAAE,CAAEC,UAAU,CAAE,SAAU,CAAE,CAAAI,QAAA,cACnDrG,KAAA,OAAIyI,OAAO,CAAC,GAAG,CAACzC,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAO,CAAE,CAAAG,QAAA,eACzCrG,KAAA,QAAKgG,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAEO,mBAAmB,CAAE,sCAAsC,CAAEN,GAAG,CAAE,MAAO,CAAE,CAAAP,QAAA,eACxGrG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,KAAG,CAAO,CAAC,cACxFvG,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXgG,KAAK,CAAE3G,cAAc,CAACiC,IAAK,CAC3B2E,QAAQ,CAAGC,CAAC,EAAK5G,iBAAiB,CAAAsE,aAAA,CAAAA,aAAA,IAAMvE,cAAc,MAAEiC,IAAI,CAAE4E,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAChFpB,KAAK,CAAE,CAAEwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CAAEM,MAAM,CAAE,gBAAiB,CAAE,CAC9F,CAAC,EACC,CAAC,cACNzG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,iBAAS,CAAO,CAAC,cAC9FvG,IAAA,UACEsB,IAAI,CAAC,KAAK,CACVgG,KAAK,CAAE3G,cAAc,CAAC+D,KAAM,CAC5B6C,QAAQ,CAAGC,CAAC,EAAK5G,iBAAiB,CAAAsE,aAAA,CAAAA,aAAA,IAAMvE,cAAc,MAAE+D,KAAK,CAAE8C,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACjFpB,KAAK,CAAE,CAAEwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CAAEM,MAAM,CAAE,gBAAiB,CAAE,CAC9F,CAAC,EACC,CAAC,cACNzG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,OAAK,CAAO,CAAC,cAC1FvG,IAAA,UACEsB,IAAI,CAAC,OAAO,CACZgG,KAAK,CAAE3G,cAAc,CAAC2E,KAAM,CAC5BiC,QAAQ,CAAGC,CAAC,EAAK5G,iBAAiB,CAAAsE,aAAA,CAAAA,aAAA,IAAMvE,cAAc,MAAE2E,KAAK,CAAEkC,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACjFpB,KAAK,CAAE,CAAEwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CAAEM,MAAM,CAAE,gBAAiB,CAAE,CAC9F,CAAC,EACC,CAAC,EACH,CAAC,cACNzG,KAAA,QAAKgG,KAAK,CAAE,CAAEgB,SAAS,CAAE,MAAO,CAAE,CAAAX,QAAA,eAChCvG,IAAA,UAAOkG,KAAK,CAAE,CAAEW,OAAO,CAAE,OAAO,CAAEJ,YAAY,CAAE,KAAK,CAAEU,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,SAAO,CAAO,CAAC,cAC5FvG,IAAA,aACEsH,KAAK,CAAE3G,cAAc,CAAC0C,OAAQ,CAC9BkE,QAAQ,CAAGC,CAAC,EAAK5G,iBAAiB,CAAAsE,aAAA,CAAAA,aAAA,IAAMvE,cAAc,MAAE0C,OAAO,CAAEmE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACnFpB,KAAK,CAAE,CAAEwB,KAAK,CAAE,MAAM,CAAEtB,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CAAEM,MAAM,CAAE,gBAAgB,CAAEmB,MAAM,CAAE,UAAW,CAAE,CAClH,CAAC,EACC,CAAC,cACN5H,KAAA,QAAKgG,KAAK,CAAE,CAAEgB,SAAS,CAAE,MAAM,CAAEL,OAAO,CAAE,MAAM,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAP,QAAA,eAC9DvG,IAAA,WACE2H,OAAO,CAAE/B,cAAe,CACxBM,KAAK,CAAE,CACLE,OAAO,CAAE,WAAW,CAAED,UAAU,CAAE,SAAS,CAAEK,KAAK,CAAE,OAAO,CAC3DG,MAAM,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAK,CAAEuB,MAAM,CAAE,SAAS,CAAET,UAAU,CAAE,MACtE,CAAE,CAAAZ,QAAA,CACH,aAED,CAAQ,CAAC,cACTvG,IAAA,WACE2H,OAAO,CAAE7B,UAAW,CACpBI,KAAK,CAAE,CACLE,OAAO,CAAE,WAAW,CAAED,UAAU,CAAE,SAAS,CAAEK,KAAK,CAAE,OAAO,CAC3DG,MAAM,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAK,CAAEuB,MAAM,CAAE,SAAS,CAAET,UAAU,CAAE,MACtE,CAAE,CAAAZ,QAAA,CACH,SAED,CAAQ,CAAC,EACN,CAAC,EACJ,CAAC,EA3DEzE,MAAM,CAACK,EA4DZ,CAAC,cAEL;AACAjC,KAAA,OAAoBgG,KAAK,CAAE,CAAEiC,YAAY,CAAE,mBAAoB,CAAE,CAAA5B,QAAA,eAC/DvG,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAO,CAAE,CAAAG,QAAA,cAC7BrG,KAAA,QAAAqG,QAAA,eACEvG,IAAA,WAAQkG,KAAK,CAAE,CAAEM,KAAK,CAAE,SAAS,CAAEE,QAAQ,CAAE,MAAO,CAAE,CAAAH,QAAA,CAAEzE,MAAM,CAACc,IAAI,CAAS,CAAC,cAC7E5C,IAAA,QAAKkG,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAM,CAAEF,KAAK,CAAE,MAAM,CAAEU,SAAS,CAAE,KAAM,CAAE,CAAAX,QAAA,CAC/DzE,MAAM,CAACuB,OAAO,CACZ,CAAC,EACH,CAAC,CACJ,CAAC,cAELrD,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAO,CAAE,CAAAG,QAAA,cAC7BrG,KAAA,QAAAqG,QAAA,eACErG,KAAA,QAAKgG,KAAK,CAAE,CAAEO,YAAY,CAAE,KAAM,CAAE,CAAAF,QAAA,EAAC,eAAG,CAACzE,MAAM,CAAC4C,KAAK,EAAM,CAAC,CAC3D5C,MAAM,CAACwD,KAAK,eAAIpF,KAAA,QAAKgG,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAM,CAAEF,KAAK,CAAE,MAAO,CAAE,CAAAD,QAAA,EAAC,eAAG,CAACzE,MAAM,CAACwD,KAAK,EAAM,CAAC,EACtF,CAAC,CACJ,CAAC,cAELtF,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAO,CAAE,CAAAG,QAAA,cAC7BvG,IAAA,SAAMkG,KAAK,CAAE,CACXE,OAAO,CAAE,SAAS,CAAEC,YAAY,CAAE,MAAM,CAAEK,QAAQ,CAAE,MAAM,CAC1DS,UAAU,CAAE,MAAM,CAAEhB,UAAU,CAAE,SAAS,CAAEK,KAAK,CAAE,SACpD,CAAE,CAAAD,QAAA,CACCzE,MAAM,CAACR,IAAI,EAAI,YAAY,CACxB,CAAC,CACL,CAAC,cAELtB,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAO,CAAE,CAAAG,QAAA,cAC7BrG,KAAA,QAAKgG,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAE+B,aAAa,CAAE,QAAQ,CAAE9B,GAAG,CAAE,KAAM,CAAE,CAAAP,QAAA,eACnEvG,IAAA,SAAMkG,KAAK,CAAE,CACXE,OAAO,CAAE,SAAS,CAAEC,YAAY,CAAE,MAAM,CAAEK,QAAQ,CAAE,MAAM,CAAES,UAAU,CAAE,MAAM,CAC9EhB,UAAU,CAAE,SAAS,CAAEK,KAAK,CAAE,SAChC,CAAE,CAAAD,QAAA,CACCzE,MAAM,CAACkB,gBAAgB,GAAK,GAAG,CAAG,aAAa,CAAG,cAAc,CAC7D,CAAC,CAENlB,MAAM,CAACS,gBAAgB,eACtBrC,KAAA,QAAKgG,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAM,CAAEF,KAAK,CAAE,MAAO,CAAE,CAAAD,QAAA,EAAC,OAC1C,CAACzE,MAAM,CAACS,gBAAgB,EAC1B,CACN,CACAT,MAAM,CAACkB,gBAAgB,GAAK,GAAG,EAAIlB,MAAM,CAACqB,iBAAiB,eAC1DjD,KAAA,QAAKgG,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAM,CAAEF,KAAK,CAAE,MAAO,CAAE,CAAAD,QAAA,EAAC,MAC3C,CAACzE,MAAM,CAACqB,iBAAiB,EAC1B,CACN,EACE,CAAC,CACJ,CAAC,cAELnD,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAO,CAAE,CAAAG,QAAA,cAC7BrG,KAAA,QAAKgG,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAE+B,aAAa,CAAE,QAAQ,CAAE9B,GAAG,CAAE,KAAM,CAAE,CAAAP,QAAA,eAEnErG,KAAA,QAAKgG,KAAK,CAAE,CACVW,OAAO,CAAE,MAAM,CAAE+B,aAAa,CAAE,QAAQ,CAAE9B,GAAG,CAAE,KAAK,CACpDV,OAAO,CAAE,SAAS,CAAEC,YAAY,CAAE,KAAK,CACvCF,UAAU,CAAE9D,oBAAoB,CAAG,SAAS,CAAG,SAAS,CACxDsE,MAAM,cAAA7D,MAAA,CAAeT,oBAAoB,CAAG,SAAS,CAAG,SAAS,CACnE,CAAE,CAAAkE,QAAA,eACArG,KAAA,QAAKgG,KAAK,CAAE,CACVQ,QAAQ,CAAE,MAAM,CAAES,UAAU,CAAE,MAAM,CACpCX,KAAK,CAAEnE,oBAAoB,CAAG,SAAS,CAAG,SAC5C,CAAE,CAAAkE,QAAA,EAAC,OACI,CAAClE,oBAAoB,CAAG,MAAM,CAAG,YAAY,EAC/C,CAAC,CAELmG,YAAY,eACXtI,KAAA,QAAKgG,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAM,CAAEF,KAAK,CAAE,MAAO,CAAE,CAAAD,QAAA,EAC7CiC,YAAY,CAACK,IAAI,CAAC,KAAG,CAACL,YAAY,CAACzF,MAAM,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,GACxD,EAAK,CACN,CAEA,CAACZ,oBAAoB,EAAIN,QAAQ,eAChC7B,KAAA,QAAKgG,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAM,CAAEF,KAAK,CAAE,SAAS,CAAEW,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,EAAC,WAC7D,CAAC,CAACxE,QAAQ,CAACgB,MAAM,EAAIjB,MAAM,CAACkB,gBAAgB,GAAK,GAAG,CAAG,CAAC,CAAG,CAAC,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,GACrF,EAAK,CACN,EACE,CAAC,CAGLnB,MAAM,CAACkB,gBAAgB,GAAK,GAAG,eAC9B9C,KAAA,QAAKgG,KAAK,CAAE,CACVW,OAAO,CAAE,MAAM,CAAE+B,aAAa,CAAE,QAAQ,CAAE9B,GAAG,CAAE,KAAK,CACpDV,OAAO,CAAE,SAAS,CAAEC,YAAY,CAAE,KAAK,CACvCF,UAAU,CAAE7D,qBAAqB,CAAG,SAAS,CAAG,SAAS,CACzDqE,MAAM,cAAA7D,MAAA,CAAeR,qBAAqB,CAAG,SAAS,CAAG,SAAS,CACpE,CAAE,CAAAiE,QAAA,eACArG,KAAA,QAAKgG,KAAK,CAAE,CACVQ,QAAQ,CAAE,MAAM,CAAES,UAAU,CAAE,MAAM,CACpCX,KAAK,CAAElE,qBAAqB,CAAG,SAAS,CAAG,SAC7C,CAAE,CAAAiE,QAAA,EAAC,MACG,CAACjE,qBAAqB,CAAG,MAAM,CAAG,YAAY,EAC/C,CAAC,CAELoG,aAAa,eACZxI,KAAA,QAAKgG,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAM,CAAEF,KAAK,CAAE,MAAO,CAAE,CAAAD,QAAA,EAC7CmC,aAAa,CAACG,IAAI,CAAC,KAAG,CAACH,aAAa,CAAC3F,MAAM,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,GAC1D,EAAK,CACN,CAEA,CAACX,qBAAqB,EAAIP,QAAQ,eACjC7B,KAAA,QAAKgG,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAM,CAAEF,KAAK,CAAE,SAAS,CAAEW,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,EAAC,WAC7D,CAAC,CAACxE,QAAQ,CAACgB,MAAM,CAAG,CAAC,EAAEE,OAAO,CAAC,CAAC,CAAC,CAAC,GAC7C,EAAK,CACN,EACE,CACN,EACE,CAAC,CACJ,CAAC,cAELjD,IAAA,OAAIkG,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAO,CAAE,CAAAG,QAAA,cAC7BrG,KAAA,QAAKgG,KAAK,CAAE,CAAEW,OAAO,CAAE,MAAM,CAAEC,GAAG,CAAE,KAAK,CAAE8B,aAAa,CAAE,QAAS,CAAE,CAAArC,QAAA,EAClExE,QAAQ,EAAI,CAACM,oBAAoB,eAChCrC,IAAA,WACE2H,OAAO,CAAEA,CAAA,GAAM5B,oBAAoB,CAACjE,MAAM,CAACK,EAAE,CAAE,CAAC,CAAEJ,QAAQ,CAACgB,MAAM,EAAIjB,MAAM,CAACkB,gBAAgB,GAAK,GAAG,CAAG,CAAC,CAAG,CAAC,CAAC,CAAE,CAC/GkD,KAAK,CAAE,CACLE,OAAO,CAAE,UAAU,CAAED,UAAU,CAAE,SAAS,CAAEK,KAAK,CAAE,OAAO,CAC1DG,MAAM,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAK,CAAEK,QAAQ,CAAE,MAAM,CACrDkB,MAAM,CAAE,SAAS,CAAET,UAAU,CAAE,MACjC,CAAE,CAAAZ,QAAA,CACH,2BAED,CAAQ,CACT,CAEAxE,QAAQ,EAAID,MAAM,CAACkB,gBAAgB,GAAK,GAAG,EAAIX,oBAAoB,EAAI,CAACC,qBAAqB,eAC5FtC,IAAA,WACE2H,OAAO,CAAEA,CAAA,GAAM5B,oBAAoB,CAACjE,MAAM,CAACK,EAAE,CAAE,CAAC,CAAEJ,QAAQ,CAACgB,MAAM,CAAG,CAAC,CAAE,CACvEmD,KAAK,CAAE,CACLE,OAAO,CAAE,UAAU,CAAED,UAAU,CAAE,SAAS,CAAEK,KAAK,CAAE,OAAO,CAC1DG,MAAM,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAK,CAAEK,QAAQ,CAAE,MAAM,CACrDkB,MAAM,CAAE,SAAS,CAAET,UAAU,CAAE,MACjC,CAAE,CAAAZ,QAAA,CACH,0BAED,CAAQ,CACT,cAEDvG,IAAA,WACE2H,OAAO,CAAEA,CAAA,GAAMhC,eAAe,CAAC7D,MAAM,CAAE,CACvCoE,KAAK,CAAE,CACLE,OAAO,CAAE,UAAU,CAAEM,QAAQ,CAAE,MAAM,CAAEP,UAAU,CAAE,SAAS,CAC5DK,KAAK,CAAE,MAAM,CAAEG,MAAM,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAK,CAClDuB,MAAM,CAAE,SAAS,CAAET,UAAU,CAAE,MACjC,CAAE,CAAAZ,QAAA,CACH,uBAED,CAAQ,CAAC,cAETvG,IAAA,WACE2H,OAAO,CAAEA,CAAA,GAAMnC,YAAY,CAAC1D,MAAM,CAACK,EAAE,CAAE,CACvC+D,KAAK,CAAE,CACLE,OAAO,CAAE,UAAU,CAAEM,QAAQ,CAAE,MAAM,CAAEP,UAAU,CAAE,SAAS,CAC5DK,KAAK,CAAE,OAAO,CAAEG,MAAM,CAAE,MAAM,CAAEN,YAAY,CAAE,KAAK,CACnDuB,MAAM,CAAE,SAAS,CAAET,UAAU,CAAE,MACjC,CAAE,CAAAZ,QAAA,CACH,8BAED,CAAQ,CAAC,EACN,CAAC,CACJ,CAAC,GA9JEzE,MAAM,CAACK,EA+JZ,CACL,CACH,CAAC,CAAC,CACC,CAAC,EACH,CAAC,CACL,CAAC,cAENnC,IAAA,QAAKkG,KAAK,CAAE,CACVgC,SAAS,CAAE,QAAQ,CAAE9B,OAAO,CAAE,WAAW,CACzCD,UAAU,CAAE,SAAS,CAAEE,YAAY,CAAE,MAAM,CAC3CG,KAAK,CAAE,MAAM,CAAEE,QAAQ,CAAE,MAC3B,CAAE,CAAAH,QAAA,CAAC,2DAEH,CAAK,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAApG,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}